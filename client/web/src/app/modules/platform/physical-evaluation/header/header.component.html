<div class="header-wrp">
  <div class="item-container">
    <div *ngFor="let step of itemList; let i = index">
      <div class="box">
        <div
          class="timeline"
          [ngClass]="{
            'line-gone': i === 0,
            'line-completed': i > 0 && isStepComplete(i) && nextStepClicked,
            'line-inprogress':
              i === selectionIndex && i !== 0 && !isStepComplete(i)
          }"
        ></div>
        <div
          class="circle"
          [ngClass]="{
            selected: selectionIndex === i,
            completed:
              (isStepComplete(i) && nextStepClicked) ||
              (isResume && i === itemList.length - 1) ||
              (i === itemList.length && completedSteps[i]),
            inprogress: selectionIndex === i && !isStepComplete(i)
          }"
        >
          <ion-text
            [color]="
              selectionIndex === i
                ? 'primary'
                : isStepComplete(i) && nextStepClicked
                ? 'light'
                : 'medium'
            "
          >
            {{ step.number }}
          </ion-text>
        </div>
        <div class="title">
          {{ step.title }}
        </div>
        <div
          class="timeline"
          [ngClass]="{
            'line-completed': isStepComplete(i) && nextStepClicked,
            'line-inprogress': selectionIndex === i && !isStepComplete(i)
          }"
        ></div>
      </div>
    </div>
    <div class="box">
      <div
        class="timeline"
        [ngClass]="{ 'line-completed': resumeSelected }"
      ></div>
      <div class="circle" [ngClass]="{ selected: resumeSelected }">
        <ion-text [color]="resumeSelected ? 'primary' : 'medium'">{{
          itemList.length + 1
        }}</ion-text>
      </div>
      <div class="title">
        {{ "FINALIZAR" }}
      </div>
      <div class="timeline line-gone"></div>
    </div>
  </div>
</div>
