<div class="header-wrp">
  <div class="item-container" *ngFor="let step of itemList; let i = index">
    <div class="box">
      <div
        class="timeline"
        [ngClass]="{
          'line-gone': i === 0,
          'line-completed':
            i > 0 &&
            isStepComplete(i - 1) &&
            nextStepClicked &&
            i !== itemList.length,
          'line-inprogress':
            i === selectionIndex && i !== 0 && !isStepComplete(i)
        }"
      ></div>

      <div
        class="circle"
        [ngClass]="{
          selected: selectionIndex === i,
          completed: isStepComplete(i) && nextStepClicked,
          inprogress: selectionIndex === i && !isStepComplete(i)
        }"
      >
        <ion-text
          [color]="
            selectionIndex === i
              ? 'primary'
              : isStepComplete(i) && nextStepClicked
              ? 'light'
              : 'medium'
          "
        >
          {{ step.number }}
        </ion-text>
      </div>

      <div class="title">
        {{ step.title }}
      </div>

      <div
        class="timeline"
        [ngClass]="{
          'line-gone': i === itemList.length - 1,
          'line-completed':
            i !== itemList.length - 1 && isStepComplete(i) && nextStepClicked,
          'line-inprogress':
            selectionIndex === i &&
            !isStepComplete(i) &&
            i !== itemList.length - 1
        }"
      ></div>
    </div>
  </div>
</div>
