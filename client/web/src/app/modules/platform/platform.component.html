<!-- SideBar Closed -->
<ion-header type="md">
  <!--Menu button and logo-->
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-toggle>
        <ion-button class="pic">
          <img id="menu-image" class="pic" src="assets/icons/menu.svg">
        </ion-button>
      </ion-menu-toggle>
    </ion-buttons>

    <a href="/"><div class="logo" id="inov-fitness-logo"></div></a>

    <ion-buttons id="menu-other-options" slot="end">
      <!-- Origin -->
      <ion-button (click)="openModalFromMenu('origin-modal')">
        <img class="menu-icon menu-icon-header" src="assets/icons/origin.svg" />
      </ion-button>

      <!-- Language -->
      <ion-button (click)="navigate('/platform/user/language')">
        <!--<img class="menu-icon" src="assets/icons/user.svg" /> TODO: trocar para o icon certo (svg) -->
        <ion-icon class="menu-icon menu-icon-header" name="globe-outline"></ion-icon>
      </ion-button>

      <!-- Logout -->
      <ion-button (click)="logOut()">
        <ion-icon  class="menu-icon-header" name="power-outline"></ion-icon>
        <!--<img class="menu-icon" src="assets/icons/bell.svg" /> TODO: alterar para o icon certo (svg)-->
      </ion-button>

      <!-- Profile -->
      <ion-button (click)="navigate('/platform/user/profile')">
        <img class="menu-icon menu-icon-header" src="assets/icons/user.svg" />
      </ion-button>
    </ion-buttons>

  </ion-toolbar>

</ion-header>

<!-- SideBar Opened -->
<ion-menu *ngIf="show" contentId="mainContent" type="push">
  <ion-header type="ios">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-toggle>
          <ion-button>
            <ion-button class="pic">
              <img id="menu-close-image" class="pic" src="assets/icons/close.svg">
            </ion-button>
          </ion-button>
        </ion-menu-toggle>
      </ion-buttons>

      <a href="/"><div class="logo" id="inov-fitness-logo"></div></a>
    </ion-toolbar>
  </ion-header>

  <!-- User Section -->
  <!--<ion-avatar class="menu-avatar" (click)="navigate('/platform/user/profile')">
    <img alt="Silhouette of a person's head" [src]="profilePhoto" />
  </ion-avatar>
  <div class="avatar-name" (click)="navigate('/platform/user/profile')">
    <ion-label color="primary">{{ userName }}</ion-label>
  </div>-->

  <!-- Menu Section -->
  <ion-content>
    <!-- SubItems -->
    <div id="sub-menu" class="menu-containers" *ngIf="selectedMenuItem != undefined && selectedMenuItem.subMenu != undefined">
      <ion-item id="sub-menu-header">
        <ion-label class="sub-menu-title" lines="full" detail="false" color="black">
          {{ selectedMenuItem.title | translate }} Menu:
        </ion-label>
      </ion-item>
      <ion-item class="sub-menu-item"
        *ngFor="let subItem of selectedMenuItem.subMenu"
        [routerLink]="subItem?.url ? [subItem?.url] : null"
        detail="false"
        lines="none"
        (click)="toggleMenu()"
        slot="content"
      >
        <ion-icon slot="start" [name]="subItem?.icon">
        </ion-icon>
        <ion-label color="dark">
          {{ subItem.title | translate }}
        </ion-label>
      </ion-item>
      <ion-item id="back-to-main-menu" lines="none" detail="false" button (click)="showSubMenuOrNavigate(undefined)">
        <ion-icon name="chevron-back-outline" slot="start" color="primary"></ion-icon>
        <ion-label slot="start" color="primary">
          Back to Main Menu
        </ion-label>
      </ion-item>
    </div>

    <!-- Menu Item -->
    <ion-item *ngIf="selectedMenuItem && quickLinksShow">
      <ion-label class="sub-menu-title" lines="full" detail="false" color="black">
        Quick Links:
      </ion-label>
    </ion-item>
    <ng-container class="menu-containers" *ngFor="let item of menuItems; let i = index">
      <ion-item class="menu-item" *ngIf="quickLinksShow || selectedMenuItem==undefined" lines="none" button detail="false" (click)="showSubMenuOrNavigate(item)">
        <ion-icon slot="start" color="primary" [name]="item?.icon"> </ion-icon>
        <ion-label style="font-weight: 600" slot="start" color="primary">
          {{ item.title | translate }}
        </ion-label>
        <ion-icon name="chevron-forward-outline" slot="end" color="primary"></ion-icon>
      </ion-item>

      <!-- Menu Item with SubItems -->
      <!--<ion-accordion-group [multiple]="true" *ngIf="item.subMenu">
        <ion-accordion [value]="i" color="primary">
          <ion-item
            slot="header"
            lines="full"
            [routerLink]="item?.url ? [item?.url] : null"
            routerLinkActive="router-link-active"
          >
            <ion-icon slot="start" color="primary" [name]="item?.icon">
            </ion-icon>
            <ion-label style="font-weight: 600" slot="start" color="primary">
              {{ item.title | translate }}
            </ion-label>
          </ion-item>-->

          <!-- Sub Menu Item -->
          <!-- <ion-item
            *ngFor="let subItem of item.subMenu"
            [routerLink]="subItem?.url ? [subItem?.url] : null"
            detail="false"
            lines="none"
            (click)="toggleMenu()"
            slot="content"
          >
            <ion-icon slot="start" color="dark" [name]="subItem?.icon">
            </ion-icon>
            <ion-label color="dark">
              {{ subItem.title | translate }}
            </ion-label>
          </ion-item>
        </ion-accordion>
      </ion-accordion-group>-->
    </ng-container>
  </ion-content>

  <!-- Footer Section -->
  <ion-footer id="menu-footer">
    <ion-toolbar>
      <div class="footer" color="light">
        <!-- Origin -->
        <div class="footer-item" id="origin-modal">
          <img class="menu-icon" src="assets/icons/origin.svg" />
          <ion-label slot="end" color="primary">
            {{ "menu.footer.origin.title" | translate }}
          </ion-label>
        </div>

        <!-- Origin Modal -->
        <ion-modal
          trigger="origin-modal"
          id="origin-modal"
          (willDismiss)="onWillDismiss($event)"
        >
          <ng-template>
            <ion-header>
              <ion-toolbar>
                <ion-buttons slot="start">
                  <ion-button (click)="cancel()">
                    {{ "menu.footer.origin.close" | translate }}
                  </ion-button>
                </ion-buttons>

                <ion-title> {{ "menu.footer.origin.modal-title" | translate }} </ion-title>

                <ion-buttons slot="end">
                  <ion-button (click)="confirm()" [strong]="true">
                    {{ "menu.footer.origin.save" | translate }}
                  </ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>

            <ion-content>
              <ion-list>
                <ion-radio-group
                  [value]="selectedLoc"
                  (ionChange)="onLocationSelect($event)"
                >
                  <ion-radio
                    [value]="loc.locationId"
                    *ngFor="let loc of locList; let i = index"
                    labelPlacement="end"
                    justify="start"
                    slot="end"
                  >
                    <ion-item class="radio-item">
                      {{ loc.locationName }}
                    </ion-item>
                  </ion-radio>
                </ion-radio-group>
              </ion-list>
            </ion-content>
          </ng-template>
        </ion-modal>

        <!-- Language -->
        <div class="footer-item" (click)="navigate('/platform/user/language')">
          <!--<img class="menu-icon" src="assets/icons/user.svg" /> TODO: trocar para o icon certo (svg) -->
          <ion-icon class="menu-icon" name="globe-outline" color="primary"></ion-icon>
          <ion-label slot="end" color="primary">
            {{ "menu.footer.language.title" | translate }}
          </ion-label>
        </div>

        <!-- Logout -->
        <div class="footer-item" slot="end" (click)="logOut()">
          <ion-icon name="power-outline" color="primary"></ion-icon>
          <!--<img class="menu-icon" src="assets/icons/bell.svg" /> TODO: alterar para o icon certo (svg)-->
          <ion-label slot="end" color="primary">
            {{ "menu.footer.logout.title" | translate }}
          </ion-label>
        </div>

        <!-- Profile -->
        <div class="footer-item" (click)="navigate('/platform/user/profile')">
          <img class="menu-icon" src="assets/icons/user.svg" />
          <ion-label slot="end" color="primary">
            Usain Bolt
          </ion-label>
        </div>
      </div>
    </ion-toolbar>
  </ion-footer>
</ion-menu>

<!-- Page section -->
<div class="ion-page" id="mainContent" main>
  <ion-router-outlet id="main-content"></ion-router-outlet>
</div>
