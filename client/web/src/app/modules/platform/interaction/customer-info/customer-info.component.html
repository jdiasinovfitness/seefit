<div class="c-info-wrapper" *ngIf="info?.customerInfo as data">
  <ion-accordion-group [multiple]="true">
    <div class="side-by-side">
      <ion-accordion
        toggleIconSlot="start"
        *ngIf="data?.customerRecord as cRecord"
      >
        <ion-item slot="header" color="light">
          <ion-label>
            {{ cRecord.title | translate }}
          </ion-label>
        </ion-item>
        <div slot="content">
          <ion-item
            color="light"
            lines="none"
            *ngFor="let record of cRecord.content"
          >
            <ion-text class="key" color="medium">
              {{ record.key | translate }}
            </ion-text>
            <ion-text class="content-text">
              {{ record.value | translate }}
            </ion-text>
          </ion-item>
        </div>
      </ion-accordion>

      <ion-accordion
        *ngIf="data?.customerContact as item"
        toggleIconSlot="start"
      >
        <ion-item slot="header" color="light">
          <ion-label>{{ item.title | translate }} </ion-label>
        </ion-item>
        <div slot="content">
          <ion-item
            color="light"
            lines="none"
            *ngFor="let contact of item.content"
          >
            <ion-text class="key" color="medium">{{
              contact.key | translate
            }}</ion-text>
            <ion-text class="content-text">{{ contact.value }}</ion-text>
          </ion-item>
        </div>
      </ion-accordion>

      <ion-accordion
        toggleIconSlot="start"
        *ngIf="data?.contractType as conType"
      >
        <ion-item slot="header" color="light">
          <ion-label>
            {{ conType.title | translate }}
          </ion-label>
        </ion-item>
        <div slot="content">
          <ion-item
            color="light"
            lines="none"
            *ngFor="let contract of conType.content"
          >
            <ion-text class="key" color="medium">
              {{ contract.key | translate }}
            </ion-text>
            <ion-text class="content-text">
              {{ contract.value | translate }}
            </ion-text>
          </ion-item>
        </div>
      </ion-accordion>
    </div>
    <!-- Additional Info -->
    <ion-accordion
      toggleIconSlot="start"
      *ngIf="data?.additionalInfo as addInfo"
    >
      <ion-item slot="header" color="light">
        <ion-label>
          {{ addInfo.title | translate }}
        </ion-label>
      </ion-item>
      <div class="a-content" slot="content">
        <!-- <ion-item
          color="light"
          lines="none"
          *ngIf="addInfo?.lifeCycle as aInfo"
        >
          <ion-text class="key" color="medium">
            {{ aInfo.key | translate }}
          </ion-text>
        </ion-item> -->
        <!-- Icons -->
        <div class="hole-line">
          <div
            [ngClass]="{ disabled: icon.isDisabled }"
            class="see-icon md {{ icon.icon }}"
            *ngFor="
              let icon of info?.customerInfo?.additionalInfo?.icons
                | slice : 0 : 3
            "
          ></div>
        </div>
      </div>
    </ion-accordion>

    <!-- Lifecycle -->
    <ion-accordion
      toggleIconSlot="start"
      *ngIf="data?.additionalInfo?.lifeCycle as lifeCycle"
    >
      <ion-item slot="header" color="light">
        <ion-label> {{ lifeCycle.key | translate }} </ion-label>
      </ion-item>
      <div slot="content" id="content">
        <div class="p-bars">
          <div class="progress-labels">
            <ion-label *ngFor="let tLabel of lifeCycle.topLabels">
              {{ tLabel?.label }}
            </ion-label>
          </div>
          <ion-progress-bar [value]="lifeCycle.progress"></ion-progress-bar>
          <div class="progress-labels">
            <div *ngFor="let bLabel of lifeCycle.bottomLabels">
              {{ bLabel?.label }}
            </div>
          </div>
        </div>
      </div>
    </ion-accordion>
  </ion-accordion-group>

  <!-- Observation -->
  <app-observation
    [userId]="info.userId"
    [displayBtn]="info.status !== statusTypes.COMPLETED"
    (handleClick)="onButtonClick($event)"
  >
  </app-observation>
</div>
