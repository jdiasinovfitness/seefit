apiVersion: v1
kind: Secret
metadata:
  name: db-access
type: Opaque
stringData:
  host: mongodb.development
  port: "27017"
  user: "root"
  pass: "rqWgSFSfFBAM5a4x"
  connstr: mongodb://root:rqWgSFSfFBAM5a4x@mongodb.development:27017/scripts?authSource=admin

---
apiVersion: v1
kind: Secret
metadata:
  name: rabbitmq-access
type: Opaque
stringData:
  user: "root"
  pass: "Upx4EnJ9tj3zzmTz"
  vhost: "/"
  port: "5672"
  host: "rabbitmq.development"
  connstr: amqp://root:Upx4EnJ9tj3zzmTz@rabbitmq.development:5672
  rabbit_publish_scripts: "http://root:Upx4EnJ9tj3zzmTz@rabbitmq.development:15672/api/exchanges/%2f/SCRIPTS/publish"
---
apiVersion: v1
kind: Secret
metadata:
  name: access
type: Opaque
data:
  mongodb: ew0KCSJhY2NvdW50Ijogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImFjY291bnQiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkiYWxsb2NhdGlvbiI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJhbGxvY2F0aW9uIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImFwcCI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJhcHAiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkiYXV0aCI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJhdXRoIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImJ1c2luZXNzX3J1bGUiOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAiYnVzaW5lc3NfcnVsZSIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJjaGFubmVsIjogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImNoYW5uZWwiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkiY3VzdG9tZXIiOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAiY3VzdG9tZXIiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkiZGV2aWNlIjogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImRldmljZSIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJkaWdpdGFscG9pbnQiOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAiZGlnaXRhbHBvaW50IiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImV2ZW50Ijogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImV2ZW50IiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImZlZWRzIjogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImZlZWRzIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImZpdHRpbmdyb29tIjogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImZpdHRpbmdyb29tIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImZvcmVjYXN0Ijogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogImZvcmVjYXN0IiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJImhhcnAiOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAiaGFycCIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJociI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJociIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJsb2NhdGlvbiI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJsb2NhdGlvbiIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJsb2ciOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAibG9nIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJIm1vbmV5d2FsbCI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJtb25leXdhbGwiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkib3BlcmF0aW9ucyI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJvcGVyYXRpb25zIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJInBsdWdpbiI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJwbHVnaW4iLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkicHJvZHVjdCI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJwcm9kdWN0IiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJInNjcmlwdHMiOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAic2NyaXB0cyIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJzZWVjb25uZWN0Ijogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogInNlZWNvbm5lY3QiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfSwNCgkic3RhZ2luZyI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJzdGFnaW5nIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJInN0b2NrIjogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogInN0b2NrIiwNCgkJIm9wdHMiOiBbew0KCQkJInBhcmFtIjogImF1dGhTb3VyY2UiLA0KCQkJInZhbHVlIjogImFkbWluIg0KCQl9XQ0KCX0sDQoJInN1cHBvcnQiOiB7DQoJCSJ1c2VybmFtZSI6ICJyb290IiwNCgkJInBhc3N3b3JkIjogInJxV2dTRlNmRkJBTTVhNHgiLA0KCQkidXJpIjogIm1vbmdvZGIuZGV2ZWxvcG1lbnQ6MjcwMTciLA0KCQkiZGF0YWJhc2UiOiAic3VwcG9ydCIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJ0cmFuc2FjdGlvbiI6IHsNCgkJInVzZXJuYW1lIjogInJvb3QiLA0KCQkicGFzc3dvcmQiOiAicnFXZ1NGU2ZGQkFNNWE0eCIsDQoJCSJ1cmkiOiAibW9uZ29kYi5kZXZlbG9wbWVudDoyNzAxNyIsDQoJCSJkYXRhYmFzZSI6ICJ0cmFuc2FjdGlvbiIsDQoJCSJvcHRzIjogW3sNCgkJCSJwYXJhbSI6ICJhdXRoU291cmNlIiwNCgkJCSJ2YWx1ZSI6ICJhZG1pbiINCgkJfV0NCgl9LA0KCSJ1c2VyIjogew0KCQkidXNlcm5hbWUiOiAicm9vdCIsDQoJCSJwYXNzd29yZCI6ICJycVdnU0ZTZkZCQU01YTR4IiwNCgkJInVyaSI6ICJtb25nb2RiLmRldmVsb3BtZW50OjI3MDE3IiwNCgkJImRhdGFiYXNlIjogInVzZXIiLA0KCQkib3B0cyI6IFt7DQoJCQkicGFyYW0iOiAiYXV0aFNvdXJjZSIsDQoJCQkidmFsdWUiOiAiYWRtaW4iDQoJCX1dDQoJfQ0KfQ0K
  rabbitmq: eyJzZXJ2ZXIiOiB7Imhvc3QiOiAicmFiYml0bXEuZGV2ZWxvcG1lbnQiLCJwb3J0IjogNTY3MiwidmlydHVhbF9ob3N0IjogIi8ifSwiY3JlZGVudGlhbHMiOiB7InVzZXJuYW1lIjogInJvb3QiLCJwYXNzd29yZCI6ICJVcHg0RW5KOXRqM3p6bVR6In19
---
apiVersion: v1
kind: Secret
metadata:
  name: kong-config
stringData:
  kong.yaml: |
    _format_version: "1.1"
    services:
      - name: services
        url: http://services:80/
        routes:
          - name: services_base
            paths:
              - /services
      - name: web
        url: http://web:80/
        routes:
          - name: web_base
            paths:
              - /
    consumers:
      - username: scripts-consumer
    jwt_secrets:
      - consumer: scripts-consumer
        algorithm: HS256
        key: "Cp1daQ1EjLGKyKhrNz64dwKcrGXXdPXtfLUgxUH1KinMynbMEvYL3mtAv2OfIiHc"
        secret: "p1tEh4JexCEz8iN4WygnSLIbM8lc3jYxjoxXyo0cTVyiUurS1jRUtf3acUC3DSWZ"
    plugins:
      - name: request-size-limiting
        config:
          allowed_payload_size: 1
          size_unit: megabytes
      - name: bot-detection
      - name: jwt
        service: services
        enabled: true
        config:
          key_claim_name: iss
          claims_to_verify:
          - exp
      - name: correlation-id
        config:
          header_name: x-log-id
          generator: uuid
          echo_downstream: false
